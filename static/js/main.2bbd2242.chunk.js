(this.webpackJsonpmatopeli=this.webpackJsonpmatopeli||[]).push([[0],[,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(4),s=n.n(r),o=(n(9),n(2)),i=(n(10),n(11),n(0)),u=function(e){for(var t=e.points,n=e.setPoints,c=[],r=0;r<10;r++){c[r]=[];for(var s=0;s<10;s++)c[r][s]="blank"}var u=function(){return{x:Math.floor(10*Math.random()),y:Math.floor(10*Math.random())}},j=Object(a.useState)(c),d=Object(o.a)(j,2),l=d[0],b=d[1],f=Object(a.useState)([{x:0,y:0}]),p=Object(o.a)(f,2),O=p[0],h=p[1],v=Object(a.useState)("right"),x=Object(o.a)(v,2),m=x[0],y=x[1],k=Object(a.useState)(u),S=Object(o.a)(k,2),N=S[0],w=S[1],g=Object(a.useState)(),E=Object(o.a)(g,2),I=E[0],M=(E[1],Object(a.useState)(!1)),J=Object(o.a)(M,2),L=J[0],B=J[1];document.addEventListener("keydown",(function(e){switch(e.keyCode){case 37:y("left");break;case 38:y("top");break;case 39:y("right");break;case 40:y("bottom")}}),!1);var G=l.map((function(e,t){return Object(i.jsx)("div",{className:"Snake-row",children:e.map((function(e,t){return Object(i.jsx)("div",{className:"tile ".concat(e)},t)}))},t)}));return function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){var e=[];switch(m){case"right":e.push({x:O[0].x,y:(O[0].y+1)%10});break;case"left":e.push({x:O[0].x,y:(O[0].y-1+10)%10});break;case"top":e.push({x:(O[0].x-1+10)%10,y:O[0].y});break;case"bottom":e.push({x:(O[0].x+1)%10,y:O[0].y})}if(function(){var e=O[0];return O.slice(1,-1).find((function(t){return t.x===e.x&&t.y===e.y}))}()){B(!0),clearInterval(I);var a=JSON.parse(localStorage.getItem("snake-points"))||[];a.push(t),localStorage.setItem("snake-points",JSON.stringify(a)),window.dispatchEvent(new Event("storage"))}O.forEach((function(t){e.push(t)})),O[0].x===N.x&&O[0].y===N.y?(w(u),n(t+1)):e.pop(),h(e),function(){var e=c;O.forEach((function(t){e[t.x][t.y]="snake"})),e[N.x][N.y]="food",b(e)}()}),250),Object(i.jsxs)("div",{className:"Snake-board",children:[G,L&&Object(i.jsx)("div",{className:"Game-over",children:"Game over!"})]})},j=(n(13),function(e){var t=e.points;return Object(i.jsxs)("div",{className:"Points",children:[t," pistett\xe4"]})}),d=(n(14),function(){return JSON.parse(localStorage.getItem("snake-points"))||[]}),l=function(){var e=Object(a.useState)(d()),t=Object(o.a)(e,2),n=t[0],c=t[1];window.addEventListener("storage",(function(){c(d())}));var r=n.sort((function(e,t){return t-e}));return Object(i.jsxs)("div",{className:"LeaderBoard",children:[Object(i.jsx)("div",{className:"LeaderBoard-header",children:"Top 5"}),Object(i.jsx)("div",{className:"LeaderBoard-points",children:r.slice(0,5).map((function(e,t){return Object(i.jsxs)("div",{children:[e," pistett\xe4"]},"".concat(e,"-").concat(t))}))})]})};var b=function(){var e=Object(a.useState)(0),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("header",{className:"App-header",children:"Matopeli"}),Object(i.jsxs)("div",{className:"Game",children:[Object(i.jsx)(j,{points:n}),Object(i.jsx)(u,{points:n,setPoints:c})]}),Object(i.jsx)("button",{onClick:function(){return window.location.reload(!1)},children:"Uusi peli"}),Object(i.jsx)(l,{})]})};s.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(b,{})}),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.2bbd2242.chunk.js.map